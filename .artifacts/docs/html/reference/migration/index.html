<!DOCTYPE html>
<html lang="en" class="h-screen" xmlns="http://www.w3.org/1999/html">
<head hx-head="merge">
		<meta charset="utf-8">
	<title>Migrate to EDOT Java from the Elastic APM Java agent | Elastic Distribution of OpenTelemetry Java release notes</title>
	<meta name="description" content="Migrate from the Elastic APM Java agent to the Elastic Distribution of OpenTelemetry Java (EDOT Java).">
		<link rel="preload" href="/_static/InterVariable.e6ec8b96.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/_static/MierB-Regular.efa24115.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/_static/MierB-Bold.01af95ca.woff2" as="font" type="font/woff2" crossorigin>
		<link rel="preload" href="/_static/MierB-Demi.845945e0.woff2" as="font" type="font/woff2" crossorigin>
	<link rel="stylesheet preload" as="style" type="text/css" href="/_static/styles.css?v=c7dd3d5020c9f700" crossorigin/>
	<script src="/_static/custom-elements.js?v=6d04fe607c8ff795" defer></script>
	<script src="/_static/main.js?v=33f2ee447d46514e" defer></script>
		<link rel="canonical" href="https://docs-v3-preview.elastic.dev/reference/migration" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="apple-touch-icon" sizes="57x57" href="https://elastic.co/apple-icon-57x57.png"/>
<link rel="apple-touch-icon" sizes="60x60" href="https://elastic.co/apple-icon-60x60.png"/>
<link rel="apple-touch-icon" sizes="72x72" href="https://elastic.co/apple-icon-72x72.png"/>
<link rel="apple-touch-icon" sizes="76x76" href="https://elastic.co/apple-icon-76x76.png"/>
<link rel="apple-touch-icon" sizes="114x114" href="https://elastic.co/apple-icon-114x114.png"/>
<link rel="apple-touch-icon" sizes="120x120" href="https://elastic.co/apple-icon-120x120.png"/>
<link rel="apple-touch-icon" sizes="144x144" href="https://elastic.co/apple-icon-144x144.png"/>
<link rel="apple-touch-icon" sizes="152x152" href="https://elastic.co/apple-icon-152x152.png"/>
<link rel="apple-touch-icon" sizes="180x180" href="https://elastic.co/apple-icon-180x180.png"/>
<link rel="apple-touch-icon" sizes="192x192" href="https://elastic.co/apple-icon-192x192.png"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-32x32.png" sizes="32x32"/>
<link rel="shortcut icon" href="https://elastic.co/favicon.ico" type="image/x-icon"/>
<link rel="icon" href="https://elastic.co/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon-precomposed" sizes="64x64" href="https://elastic.co/favicon_64x64_16bit.png"/>
<link rel="apple-touch-icon-precomposed" sizes="32x32" href="https://elastic.co/favicon_32x32.png"/>
<link rel="apple-touch-icon-precomposed" sizes="16x16" href="https://elastic.co/favicon_16x16.png"/>
<link rel="icon" type="image/png" href="https://elastic.co/android-chrome-192x192.png" sizes="192x192"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-96x96.png" sizes="96x96"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-16x16.png" sizes="16x16"/>
<link rel="icon" type="image/png" href="https://elastic.co/favicon-48x48.png" sizes="48x48"/>

	<meta name="robots" content="noindex, nofollow">
	<meta name="htmx-config" content='{"selfRequestsOnly": true}'>
	<meta property="og:type" content="website"/>
	<meta property="og:title" content="Migrate to EDOT Java from the Elastic APM Java agent | Elastic Distribution of OpenTelemetry Java release notes"/>
	<meta property="og:description" content="Migrate from the Elastic APM Java agent to the Elastic Distribution of OpenTelemetry Java (EDOT Java)."/>
	<meta property="og:image" content="https://www.elastic.co/static-res/images/social_media_default.png"/>
	<meta property="og:image:alt" content="Elastic | The Search AI Company"/>
		<meta property="og:url" content="https://docs-v3-preview.elastic.dev/reference/migration" />
	<meta property="docs:feature:lazy-load-navigation" content="False" />

				<meta class="elastic" name="product_version" content="9.0+"/>
			<meta name="DC.identifier" content="9.0+"/>
			<link rel="alternate" type="text/markdown" href="/reference/migration.md" title="Markdown export"/>
			<meta class="elastic" name="product_name" content="Elastic Cloud Serverless,Elastic Observability,Elastic Distribution of OpenTelemetry SDK,APM Agent"/>
			<meta name="DC.subject" content="Elastic Cloud Serverless,Elastic Observability,Elastic Distribution of OpenTelemetry SDK,APM Agent"/>

</head>

<body
	class="group/body text-ink has-[#primary-nav-hamburger:checked]:overflow-hidden"
	hx-ext="preload, head-support"
	data-docs-builder-version="9AEEE8FE"
	data-root-path="/"
	hx-boost="true" hx-swap="none" hx-push-url="true" hx-indicator="#htmx-indicator"
	>
	<header class="sticky top-0 z-50 bg-blue-developer text-white h-(--offset-top) flex items-center">
		<div class="max-w-(--max-layout-width) w-full mx-auto flex justify-between items-center">
			<label role="button" class="md:hidden cursor-pointer" for="pages-nav-hamburger">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-8">
					<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"/>
				</svg>
			</label>
			<a href="/" class="flex items-center gap-2 text-lg font-semibold px-4">
				<img src="/_static/logo-elastic-glyph-color.svg?v=f602ddacafcf3057" alt="" width="32" height="32">
				elastic-otel-java
			</a>
			<search-or-ask-ai></search-or-ask-ai>
		</div>
	</header>

<div id="main-container" class="flex flex-col items-center border-t-1 border-grey-20">
	
		<div class="max-w-(--max-layout-width) w-full h-full grid
					grid-cols-1
					md:grid-cols-[var(--max-sidebar-width)_1fr]
				">
			<aside class="sidebar bg-white fixed md:sticky shadow-2xl md:shadow-none left-[100%] group-has-[#pages-nav-hamburger:checked]/body:left-0 bottom-0 md:left-auto pl-6 md:pl-2 top-[calc(var(--offset-top)+1px)] w-[80%] md:w-auto shrink-0 border-r-1 border-r-grey-20 z-40 md:z-auto">
	
	<nav
		id="pages-nav"
		class="sidebar-nav h-full">
		
<div class="pb-20 font-body" id="nav-tree">
		<a
			href="/release-notes/"
			 hx-select-oob=#content-container,#toc-nav preload=mousedown
			class="inline-block mx-4 mt-6 font-semibold text-ink hover:text-black">
			EDOT Java
		</a>

		<ul class="block px-4">
					<li class="flex flex-wrap group-navigation mt-6">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/release-notes/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center font-semibold">
					EDOT Java
				</a>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
				</ul>
		</li>
		<li class="flex flex-wrap group-navigation mt-6">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center font-semibold">
					EDOT Java
				</a>
					<label for="281C6EFE" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="281C6EFE"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					EDOT Java
				</a>
					<label for="6F8AC93C" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="6F8AC93C"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex flex-wrap group-navigation mt-4">
			<div class="peer grid grid-cols-[1fr_auto] w-full">
				<a
					href="/reference/setup/"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="sidebar-link pr-2 content-center ">
					Setup
				</a>
					<label for="C0A0143D" class="group/label flex mr-2 items-start">
						<div class="hover:bg-grey-20 rounded-sm p-1 cursor-pointer">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="shrink-0 -rotate-90 group-has-checked/label:rotate-0 w-3.5">
								<path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/>
							</svg>
						</div>
						<input
							id="C0A0143D"
							type="checkbox"
							class="hidden"
							aria-hidden="true">
					</label>
			</div>
				<ul class="w-full hidden peer-has-checked:block ml-4">
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/setup/k8s"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Kubernetes Setup
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/setup/runtime-attach"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Runtime attach Setup
			</a>
		</li>
				</ul>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/configuration"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Configuration
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/features"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Features
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/supported-technologies"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Supported Technologies
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/migration"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Migration
			</a>
		</li>
		<li class="flex group/li pr-8 mt-4">
			<a
				href="/reference/overhead"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
				class="sidebar-link grow group-[.current]/li:text-blue-elastic!"
			>
				Performance overhead
			</a>
		</li>
				</ul>
		</li>
				</ul>
		</li>

		</ul>
</div>

	</nav>
	<label role="button" for="pages-nav-hamburger" class="absolute md:hidden top-7 -right-12 bg-white p-1 rounded-full border-1 border-grey-20 cursor-pointer z-99">
		<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
			<path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
		</svg>
	</label>
</aside>
<label for="pages-nav-hamburger" aria-hidden="true" class="hidden group-has-[#pages-nav-hamburger:checked]/body:block md:hidden! fixed top-0 left-0 right-0 bottom-0 bg-black/50 z-30 ">
	
</label>

			<div class="lg:grid lg:grid-cols-[1fr_var(--max-sidebar-width)]">
				<aside class="sidebar md:block w-full lg:max-w-65 md:order-2 px-6 md:px-10 lg:px-0">
	<nav id="toc-nav" class="sidebar-nav lg:h-full flex flex-row-reverse lg:block items-center gap-4">
		<div class="mt-6">
			<version-dropdown current-version='9.0&#x2B;' items='[]'>
				<div class="h-8"></div>
			</version-dropdown>
		</div>
		<ul class="mt-6 hidden md:flex items-center lg:block gap-4">
			<li class="view-as-markdown lg:not-first:mt-1">
				<a href="/reference/migration.md" class="link text-sm" target="_blank">
					<svg class="link-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 -1 24 24">
						<path fill="currentColor" d="M22.131725 19.247H1.9386225C1.0239525 19.247 0.25 18.47305 0.25 17.558375v-11.11675c0 -0.914675 0.7739525 -1.688625 1.6886225 -1.688625H22.061375c0.914675 0 1.688625 0.77395 1.688625 1.688625v11.11675c0 0.914675 -0.7036 1.688625 -1.618275 1.688625ZM1.9386225 5.87875c-0.2814375 0 -0.562875 0.281425 -0.562875 0.562875v11.11675c0 0.3518 0.2814375 0.562875 0.562875 0.562875H22.061375c0.3518 0 0.562875 -0.281425 0.562875 -0.562875v-11.11675c0 -0.3518 -0.281425 -0.562875 -0.562875 -0.562875l-20.1227525 0ZM3.62725 15.86975V8.130225h2.2515l2.2515 2.814375 2.251475 -2.814375h2.2515V15.86975h-2.2515V11.437125L8.13025 14.2515l-2.2515 -2.814375V15.86975h-2.2515Zm14.1422 0L14.392225 12.140725h2.251475v-4.0105h2.2515v3.940125h2.2515L17.76945 15.86975Z" stroke-width="0.25"></path>
					</svg>
					View as markdown
				</a>
			</li>
				<li class="edit-this-page lg:not-first:mt-1 ">
					<a href="https://github.com/elastic/elastic-otel-java/edit/add-docs/docs/reference/migration.md" class="link text-sm" target="_blank">
						<svg class="link-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"/>
						</svg>
						Edit this page
					</a>
				</li>
			<li class="report-an-issue lg:not-first:mt-1">
				<a href="https://github.com/elastic/docs-content/issues/new?template=issue-report.yaml&amp;link=https://docs-v3-preview.elastic.dev/reference/migration&amp;labels=source:web" class="link text-sm" target="_blank">
					<svg class="link-icon" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"/>
					</svg>
					Report an issue
				</a>
			</li>
		</ul>
		<div class="pt-6 hidden lg:block">
				<div>
					<div class="font-bold mb-2">On this page</div>
					<div class="relative toc-progress-container font-body">
						<div class="toc-progress-indicator absolute top-0 h-0 w-[1px] bg-blue-elastic transition-all duration-200 ease-out "></div>
						<ul class="block w-full">
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#migration-steps">
										Migration steps
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#optional-migrate-manual-instrumentation-api">
										(Optional) Migrate manual instrumentation API
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#replace-configuration-options">
										Replace configuration options
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#replace-the-agent-binary">
										Replace the agent binary
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#configuration-mapping">
										Configuration mapping
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#server_url">
										server_url
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#server_urls">
										server_urls
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#secret_token">
										secret_token
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#api_key">
										api_key
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#service_name">
										service_name
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#enabled">
										enabled
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#service_version">
										service_version
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#environment">
										environment
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#global_labels">
										global_labels
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#trace_methods">
										trace_methods
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#capture_jmx_metrics">
										capture_jmx_metrics
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#capture_headers">
										capture_headers
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#span_stack_trace_min_duration">
										span_stack_trace_min_duration
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#disable_instrumentations">
										disable_instrumentations
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#enable_instrumentations">
										enable_instrumentations
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#hostname">
										hostname
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#service_node_name">
										service_node_name
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#cloud_provider">
										cloud_provider
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#log_sending">
										log_sending
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#verify_server_cert">
										verify_server_cert
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#limitations">
										Limitations
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#supported-java-versions">
										Supported Java versions
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#missing-instrumentations">
										Missing instrumentations
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#central-and-dynamic-configuration">
										Central and dynamic configuration
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#span-compression">
										Span compression
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#breakdown-metrics">
										Breakdown metrics
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#no-remote-attach">
										No remote attach
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 ml-4"
										href="#micrometer-turned-off-by-default">
										Micrometer turned off by default
									</a>
								</li>
								<li class="has-[:hover]:border-l-grey-80 items-center px-4 border-l-1 border-l-grey-20 has-[.current]:border-l-blue-elastic!">
									<a
										class="sidebar-link inline-block my-1.5 "
										href="#troubleshooting">
										Troubleshooting
									</a>
								</li>
						</ul>
					</div>
				</div>

		</div>

	</nav>
</aside>

				<div class="justify-center grid
						grid-cols-1
						px-6 lg:px-0
						lg:grid-cols-[1fr_var(--max-text-width)_1fr]
						lg:order-1
						">
					<div class="spacer"></div>
					<main id="content-container" class="w-full flex flex-col relative pb-30 overflow-x-hidden">
						<div class="w-full absolute top-0 left-0 right-0 htmx-indicator" id="htmx-indicator" role="status">
							<div class="h-[2px] w-full overflow-hidden">
								<div class="progress w-full h-full bg-pink-70 left-right"></div>
							</div>
							<div class="sr-only">Loading</div>
						</div>
						<div class="content-container md:px-4">
							
<ol id="breadcrumbs" class="block items-center w-full py-6" itemscope="" itemtype="https://schema.org/BreadcrumbList">
		<li class="inline text-ink-light text-sm leading-[1.2em]" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
			<a
				hx-disable="true"
				itemprop="item"
				href="/reference/"
				 hx-select-oob=#content-container,#toc-nav preload=mousedown
			>
				<span itemprop="name" class="hover:text-black">EDOT Java</span>
			</a>
			<meta itemprop="position" content="1">
		</li>
	
	<li class="inline text-ink-light text-sm leading-[1.2em]" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
		<span class="px-1">/</span>
	</li>
</ol>

						</div>
						
						<article id="markdown-content" class="content-container markdown-content md:px-4">
							<input type="checkbox" class="hidden" id="pages-nav-hamburger">
							<section id="elastic-docs-v3">
	<h1>Migrate to EDOT Java from the Elastic APM Java agent</h1>

		<p class="applies applies-block">
		

			<span class="applicable-info" data-tippy-content="Available on Elastic&nbsp;Stack unless otherwise specified.

If this functionality is unavailable or behaves differently when deployed on ECH, ECE, ECK, or a self-managed installation, it will be indicated on the page.">
				<span class="applicable-name">Stack</span>


				<span class="applicable-meta applicable-meta-ga">
				</span>
			</span>
			<span class="applicable-info" data-tippy-content="Available on Serverless&nbsp;Observability projects unless otherwise specified.">
				<span class="applicable-name">Serverless Observability</span>


				<span class="applicable-meta applicable-meta-ga">
				</span>
			</span>
			<span class="applicable-info" data-tippy-content="Available on Elastic&nbsp;Distribution of OpenTelemetry&nbsp;Java unless otherwise specified.">
				<span class="applicable-name">EDOT Java</span>


				<span class="applicable-meta applicable-meta-ga">
				</span>
			</span>



		</p>
	<p>Compared to the Elastic APM Java agent, the Elastic Distribution of OpenTelemetry Java presents a number of advantages:</p>
<ul>
<li>Fully automatic instrumentation with zero code changes. No need to modify application code.</li>
<li>Capture, send, transform, and store data in an OpenTelemetry native way. This includes for example the ability to use all features of the OpenTelemetry SDK for manual tracing, data following semantic conventions, or ability to use intermediate collectors and processors.</li>
<li>OpenTelemetry Java Instrumentation provides a <a href="https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/supported-libraries.md" target="_blank" rel="noopener noreferrer">broad coverage of libraries, frameworks, and applications</a>.</li>
<li>EDOT Java is built on top of OpenTelemetry SDK and conventions, ensuring compatibility with community tools, vendor-neutral backends, and so on.</li>
</ul>
<div class="heading-wrapper" id="migration-steps"><h2><a class="headerlink" href="#migration-steps">Migration steps</a></h2>
</div>
<p>Follow these steps to migrate from the legacy Elastic APM Java agent to the Elastic Distribution of OpenTelemetry Java.</p>
<div class="stepper">
	<ol>
		<li class="step">
				<h3 id="optional-migrate-manual-instrumentation-api">
					<a href="#optional-migrate-manual-instrumentation-api">(Optional) Migrate manual instrumentation API</a>
				</h3>
	<p>Migrate usages of the <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/public-api" hx-select-oob="#main-container" preload="mousedown">Elastic APM Agent API</a> to OpenTelemetry API:</p>
<ul>
<li>For <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/public-api#api-annotation" hx-select-oob="#main-container" preload="mousedown">Annotation API</a>, refer to <a href="https://opentelemetry.io/docs/zero-code/java/agent/annotations/" target="_blank" rel="noopener noreferrer">OpenTelemetry Annotations</a>.</li>
<li>For <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/public-api#api-transaction" hx-select-oob="#main-container" preload="mousedown">Transaction API</a>, refer to <a href="https://opentelemetry.io/docs/zero-code/java/agent/api/" target="_blank" rel="noopener noreferrer">OpenTelemetry API</a>.</li>
</ul>
<div class="admonition note">
	<div class="admonition-title">
		
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
						<path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
					</svg>
		<span>Note</span>
	</div>
	<div class="admonition-content"><p>Migration of application code using these APIs and annotations is not strictly required when deploying the EDOT agent. If not migrated, spans, transactions, and metrics that were previously created with those custom API calls and annotations will no longer be generated. OpenTelemetry instrumentation coverage might replace the need for some or all of these custom code changes.</p>
</div>
</div>

</li>
<li class="step">
				<h3 id="replace-configuration-options">
					<a href="#replace-configuration-options">Replace configuration options</a>
				</h3>
	<p>Refer to the <a href="#configuration-mapping">Configuration mapping</a>. Refer to <a href="/reference/configuration" hx-select-oob="#content-container,#toc-nav" preload="mousedown">Configuration</a> for ways to provide configuration settings.</p>

</li>
<li class="step">
				<h3 id="replace-the-agent-binary">
					<a href="#replace-the-agent-binary">Replace the agent binary</a>
				</h3>
	<p>Remove the <code>-javaagent:</code> argument that contains the Elastic APM Java agent from the JVM arguments. Then add the <code>-javaagent:</code> argument to the JVM arguments to use EDOT Java, and restart the application or follow <a href="/reference/setup/k8s" hx-select-oob="#content-container,#toc-nav" preload="mousedown">Kubernetes instructions</a> or <a href="/reference/setup/runtime-attach" hx-select-oob="#content-container,#toc-nav" preload="mousedown">Runtime attach instructions</a> if applicable. Refer to <a href="/reference/setup/" hx-select-oob="#content-container,#toc-nav" preload="mousedown">Setup</a>.</p>

</li>

	</ol>
</div>
<div class="heading-wrapper" id="configuration-mapping"><h2><a class="headerlink" href="#configuration-mapping">Configuration mapping</a></h2>
</div>
<p>The following are Elastic APM Java agent settings that you can migrate to EDOT Java.</p>
<div class="heading-wrapper" id="server_url"><h3><a class="headerlink" href="#server_url"><code>server_url</code></a></h3>
</div>
<p>The Elastic <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/config-reporter#config-server-url" hx-select-oob="#main-container" preload="mousedown"><code>server_url</code></a> option corresponds to the OpenTelemetry <a href="https://opentelemetry.io/docs/concepts/sdk-configuration/otlp-exporter-configuration/#otel_exporter_otlp_endpoint" target="_blank" rel="noopener noreferrer"><code>OTEL_EXPORTER_OTLP_ENDPOINT</code></a> option.</p>
<div class="heading-wrapper" id="server_urls"><h3><a class="headerlink" href="#server_urls"><code>server_urls</code></a></h3>
</div>
<p>The Elastic <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/config-reporter#config-server-urls" hx-select-oob="#main-container" preload="mousedown"><code>server_urls</code></a> option has no equivalent OpenTelemetry option. You can only specify one endpoint.</p>
<p>Use <a href="https://opentelemetry.io/docs/concepts/sdk-configuration/otlp-exporter-configuration/#otel_exporter_otlp_endpoint" target="_blank" rel="noopener noreferrer">OTEL_EXPORTER_OTLP_ENDPOINT</a> instead.</p>
<div class="heading-wrapper" id="secret_token"><h3><a class="headerlink" href="#secret_token"><code>secret_token</code></a></h3>
</div>
<p>The Elastic <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/config-reporter#config-secret-token" hx-select-oob="#main-container" preload="mousedown"><code>secret_token</code></a> option corresponds to the OpenTelemetry <a href="https://opentelemetry.io/docs/concepts/sdk-configuration/otlp-exporter-configuration/#otel_exporter_otlp_headers" target="_blank" rel="noopener noreferrer">OTEL_EXPORTER_OTLP_HEADERS</a> option.</p>
<p>For example: <code>OTEL_EXPORTER_OTLP_HEADERS=&quot;Authorization=Bearer an_apm_secret_token&quot;</code>.</p>
<div class="heading-wrapper" id="api_key"><h3><a class="headerlink" href="#api_key"><code>api_key</code></a></h3>
</div>
<p>The Elastic <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/config-reporter#config-api-key" hx-select-oob="#main-container" preload="mousedown"><code>api_key</code></a> option corresponds to the OpenTelemetry <a href="https://opentelemetry.io/docs/concepts/sdk-configuration/otlp-exporter-configuration/#otel_exporter_otlp_headers" target="_blank" rel="noopener noreferrer">OTEL_EXPORTER_OTLP_HEADERS</a> option.</p>
<p>For example:<code>OTEL_EXPORTER_OTLP_HEADERS=&quot;Authorization=ApiKey an_api_key&quot;</code>.</p>
<div class="heading-wrapper" id="service_name"><h3><a class="headerlink" href="#service_name"><code>service_name</code></a></h3>
</div>
<p>The Elastic <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/config-core#config-service-name" hx-select-oob="#main-container" preload="mousedown"><code>service_name</code></a> option corresponds to the OpenTelemetry <a href="https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_service_name" target="_blank" rel="noopener noreferrer">OTEL_SERVICE_NAME</a> option.</p>
<p>The service name value can also be set using <a href="https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_resource_attributes" target="_blank" rel="noopener noreferrer">OTEL_RESOURCE_ATTRIBUTES</a>.</p>
<p>For example: <code>OTEL_RESOURCE_ATTRIBUTES=service.name=myservice</code>. If <code>OTEL_SERVICE_NAME</code> is set, it takes precedence over the resource attribute.</p>
<div class="heading-wrapper" id="enabled"><h3><a class="headerlink" href="#enabled"><code>enabled</code></a></h3>
</div>
<p>The Elastic <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/config-core#config-enabled" hx-select-oob="#main-container" preload="mousedown"><code>enabled</code></a> option corresponds to the OpenTelemetry <a href="https://opentelemetry.io/docs/zero-code/java/agent/disable/" target="_blank" rel="noopener noreferrer">OTEL_JAVAAGENT_ENABLED</a> option.</p>
<div class="heading-wrapper" id="service_version"><h3><a class="headerlink" href="#service_version"><code>service_version</code></a></h3>
</div>
<p>The Elastic <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/config-core#config-service-version" hx-select-oob="#main-container" preload="mousedown"><code>service_version</code></a> option corresponds to setting the <code>service.version</code> key in <a href="https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_resource_attributes" target="_blank" rel="noopener noreferrer">OTEL_RESOURCE_ATTRIBUTES</a>.</p>
<p>For example: <code>OTEL_RESOURCE_ATTRIBUTES=service.version=1.2.3</code>.</p>
<div class="heading-wrapper" id="environment"><h3><a class="headerlink" href="#environment"><code>environment</code></a></h3>
</div>
<p>The Elastic <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/config-core#config-environment" hx-select-oob="#main-container" preload="mousedown"><code>environment</code></a> option corresponds to setting the <code>deployment.environment</code> key in <a href="https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_resource_attributes" target="_blank" rel="noopener noreferrer">OTEL_RESOURCE_ATTRIBUTES</a>.</p>
<p>For example: <code>OTEL_RESOURCE_ATTRIBUTES=deployment.environment=testing</code>.</p>
<div class="heading-wrapper" id="global_labels"><h3><a class="headerlink" href="#global_labels"><code>global_labels</code></a></h3>
</div>
<p>The Elastic <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/config-core#config-global-labels" hx-select-oob="#main-container" preload="mousedown"><code>global_labels</code></a> option corresponds to adding <code>key=value</code> comma separated pairs in <a href="https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_resource_attributes" target="_blank" rel="noopener noreferrer">OTEL_RESOURCE_ATTRIBUTES</a>.</p>
<p>For example: <code>OTEL_RESOURCE_ATTRIBUTES=alice=first,bob=second</code>. Such labels will result in labels.key=value attributes on the server, e.g. labels.alice=first</p>
<div class="heading-wrapper" id="trace_methods"><h3><a class="headerlink" href="#trace_methods"><code>trace_methods</code></a></h3>
</div>
<p>The Elastic [<code>trace_methods</code>] option can be replaced by the <a href="https://opentelemetry.io/docs/zero-code/java/agent/annotations/#creating-spans-around-methods-with-otelinstrumentationmethodsinclude" target="_blank" rel="noopener noreferrer"><code>OTEL_INSTRUMENTATION_METHODS_INCLUDE</code></a> OpenTelemetry option, however the syntax is different and the ability to use wildcards is more limited.</p>
<div class="heading-wrapper" id="capture_jmx_metrics"><h3><a class="headerlink" href="#capture_jmx_metrics"><code>capture_jmx_metrics</code></a></h3>
</div>
<p>The Elastic <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/config-jmx#config-capture-jmx-metrics" hx-select-oob="#main-container" preload="mousedown"><code>capture_jmx_metrics</code></a> option can be replaced by
<a href="https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/instrumentation/jmx-metrics/javaagent/" target="_blank" rel="noopener noreferrer">OpenTelemetry JMX Insight</a> feature which is included in EDOT Java.</p>
<p>The JMX Insight feature provides the following benefits:</p>
<ul>
<li>Ability to define custom metrics using YAML.</li>
<li>Capturing metrics with pre-defined metrics by using <code>OTEL_JMX_TARGET_SYSTEM</code> configuration option.</li>
</ul>
<div class="heading-wrapper" id="capture_headers"><h3><a class="headerlink" href="#capture_headers"><code>capture_headers</code></a></h3>
</div>
<p>Replace the Elastic <code>capture_headers</code> option with the following options:</p>
<ul>
<li><code>otel.instrumentation.http.server.capture-request-headers</code> for HTTP server request</li>
<li><code>otel.instrumentation.http.server.capture-response-headers</code> for HTTP server response</li>
<li><code>otel.instrumentation.http.client.capture-request-headers</code> for HTTP client request</li>
<li><code>otel.instrumentation.http.client.capture-response-headers</code> for HTTP client response</li>
<li><code>otel.instrumentation.messaging.experimental.capture-headers</code> for messaging</li>
</ul>
<p>The <code>capture_headers</code> option is dynamically adjustable, while the <code>otel.*</code> options are statically set by startup and cannot be subsequently adjusted.</p>
<div class="heading-wrapper" id="span_stack_trace_min_duration"><h3><a class="headerlink" href="#span_stack_trace_min_duration"><code>span_stack_trace_min_duration</code></a></h3>
</div>
<p>Replace the Elastic <code>span_stack_trace_min_duration</code> option with <a href="/reference/features#span-stacktrace" hx-select-oob="#content-container,#toc-nav" preload="mousedown"><code>OTEL_JAVA_EXPERIMENTAL_SPAN_STACKTRACE_MIN_DURATION</code></a>.</p>
<div class="heading-wrapper" id="disable_instrumentations"><h3><a class="headerlink" href="#disable_instrumentations"><code>disable_instrumentations</code></a></h3>
</div>
<p>Replace the <code>disable_instrumentations</code> option, which allows to selectively disable instrumentation (opt-out), with <code>OTEL_INSTRUMENTATION_&lt;name&gt;_ENABLED</code> where <code>&lt;name&gt;</code> is the instrumentation name.</p>
<p>See <a href="https://opentelemetry.io/docs/zero-code/java/agent/disable/" target="_blank" rel="noopener noreferrer">OpenTelemetry documentation</a> for reference and values.</p>
<div class="heading-wrapper" id="enable_instrumentations"><h3><a class="headerlink" href="#enable_instrumentations"><code>enable_instrumentations</code></a></h3>
</div>
<p>The <code>enable_instrumentations</code> option allows to disable all instrumentation enabled by default and selectively enable instrumentation (opt-in) can be replaced with:</p>
<ul>
<li><code>OTEL_INSTRUMENTATION_COMMON_DEFAULT_ENABLED</code> = <code>false</code> to disable instrumentations enabled by default.</li>
<li><code>OTEL_INSTRUMENTATION_&lt;name&gt;_ENABLED</code> = <code>true</code> where <code>&lt;name&gt;</code> is the name of the instrumentation to enable. See <a href="https://opentelemetry.io/docs/zero-code/java/agent/disable/" target="_blank" rel="noopener noreferrer">OpenTelemetry documentation</a> for reference and values.</li>
</ul>
<div class="heading-wrapper" id="hostname"><h3><a class="headerlink" href="#hostname"><code>hostname</code></a></h3>
</div>
<p>The Elastic <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/config-core#config-hostname" hx-select-oob="#main-container" preload="mousedown"><code>hostname</code></a> option corresponds to setting the <code>host.name</code> key in <a href="https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_resource_attributes" target="_blank" rel="noopener noreferrer">OTEL_RESOURCE_ATTRIBUTES</a>.</p>
<p>For example: <code>OTEL_RESOURCE_ATTRIBUTES=host.name=myhost</code>.</p>
<div class="heading-wrapper" id="service_node_name"><h3><a class="headerlink" href="#service_node_name"><code>service_node_name</code></a></h3>
</div>
<p>The Elastic <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/config-core#config-service-node-name" hx-select-oob="#main-container" preload="mousedown"><code>service_node_name</code></a> option corresponds to setting the <code>service.instance.id</code> key in <a href="https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_resource_attributes" target="_blank" rel="noopener noreferrer">OTEL_RESOURCE_ATTRIBUTES</a>. Warning: by default this is a generated unique ID; if you set this it must be a unique value for each JVM otherwise metric views cannot be correctly aggregated nor disambiguated</p>
<p>For example: <code>OTEL_RESOURCE_ATTRIBUTES=service.instance.id=myserviceinstance001</code>.</p>
<div class="heading-wrapper" id="cloud_provider"><h3><a class="headerlink" href="#cloud_provider"><code>cloud_provider</code></a></h3>
</div>
<p>The Elastic <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/config-core#config-cloud-provider" hx-select-oob="#main-container" preload="mousedown"><code>cloud_provider</code></a> option corresponds to the per-provider <code>otel.resource.providers.{provider}.enabled</code> configuration options.</p>
<p>By default, with EDOT <code>otel.resource.providers.{provider}.enabled</code> is set to <code>true</code>, this is equivalent to the <code>cloud_provider</code> default valuem which is <code>auto</code>, or automatically detect cloud providers. Notice that this behavior differs from the contrib OpenTelemetry distribution.</p>
<p>When the cloud provider is known, or there is none, turning off the non-relevant providers with <code>otel.resource.providers.{provider}.enabled = false</code> allows to <a href="/reference/overhead#optimizing-application-startup" hx-select-oob="#content-container,#toc-nav" preload="mousedown">minimize the application startup overhead</a>.</p>
<div class="heading-wrapper" id="log_sending"><h3><a class="headerlink" href="#log_sending"><code>log_sending</code></a></h3>
</div>
<p>The Elastic <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/config-logging#config-log-sending" hx-select-oob="#main-container" preload="mousedown"><code>log_sending</code></a> option allows capturing and
sending application logs directly to APM Server without storing them on disk and ingesting them with a separate tool.</p>
<p>With EDOT, application logs are automatically captured and sent by default.</p>
<p>This feature is controlled by <code>otel.logs.exporter</code>, which is set to <code>otlp</code> by default. You can turn it off by setting <code>otel.logs.exporter</code> to <code>none</code>.</p>
<div class="heading-wrapper" id="verify_server_cert"><h3><a class="headerlink" href="#verify_server_cert"><code>verify_server_cert</code></a></h3>
</div>
<p>The Elastic <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/config-reporter#config-verify-server-cert" hx-select-oob="#main-container" preload="mousedown"><code>verify_server_cert</code></a> option allows you to disable server certificate validation.</p>
<p>With EDOT, the equivalent configuration option is <code>ELASTIC_OTEL_VERIFY_SERVER_CERT</code> (default <code>true</code>), see <a href="/reference/configuration#exporter-certificate-verification" hx-select-oob="#content-container,#toc-nav" preload="mousedown">configuration</a> for details.</p>
<div class="heading-wrapper" id="limitations"><h2><a class="headerlink" href="#limitations">Limitations</a></h2>
</div>
<p>The following limitations apply to EDOT Java.</p>
<div class="heading-wrapper" id="supported-java-versions"><h3><a class="headerlink" href="#supported-java-versions">Supported Java versions</a></h3>
</div>
<p>EDOT Java agent and OpenTelemetry Java instrumentation are only compatible with Java 8 and later.</p>
<div class="heading-wrapper" id="missing-instrumentations"><h3><a class="headerlink" href="#missing-instrumentations">Missing instrumentations</a></h3>
</div>
<p>Support for LDAP client instrumentation is not currently available in EDOT Java.</p>
<div class="heading-wrapper" id="central-and-dynamic-configuration"><h3><a class="headerlink" href="#central-and-dynamic-configuration">Central and dynamic configuration</a></h3>
</div>
<p>You can manage EDOT Java configurations through the <a href="https://docs-v3-preview.elastic.dev/elastic/docs-content/tree/main/solutions/observability/apm/apm-agent-central-configuration" hx-select-oob="#main-container" preload="mousedown">central configuration feature</a> in the Applications UI.</p>
<p>Refer to <a href="https://docs-v3-preview.elastic.dev/elastic/opentelemetry/tree/main/reference/central-configuration" hx-select-oob="#main-container" preload="mousedown">Central configuration</a> for more information.</p>
<div class="heading-wrapper" id="span-compression"><h3><a class="headerlink" href="#span-compression">Span compression</a></h3>
</div>
<p>EDOT Java does not implement <a href="https://docs-v3-preview.elastic.dev/elastic/docs-content/tree/main/solutions/observability/apm/spans#apm-spans-span-compression" hx-select-oob="#main-container" preload="mousedown">span compression</a>.</p>
<div class="heading-wrapper" id="breakdown-metrics"><h3><a class="headerlink" href="#breakdown-metrics">Breakdown metrics</a></h3>
</div>
<p>EDOT Java is not sending metrics that power the <a href="https://docs-v3-preview.elastic.dev/elastic/docs-content/tree/main/solutions/observability/apm/metrics#_breakdown_metrics" hx-select-oob="#main-container" preload="mousedown">Breakdown metrics</a>.</p>
<div class="heading-wrapper" id="no-remote-attach"><h3><a class="headerlink" href="#no-remote-attach">No remote attach</a></h3>
</div>
<p>There is currently no EDOT Java equivalent for starting the agent with the <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/setup-attach-cli" hx-select-oob="#main-container" preload="mousedown">remote attach</a> capability. The <code>-javaagent:</code> option is the preferred startup mechanism.</p>
<p>A migration path is available for starting the agent with <a href="https://docs-v3-preview.elastic.dev/elastic/apm-agent-java/tree/main/reference/setup-attach-api" hx-select-oob="#main-container" preload="mousedown">self attach</a>, which is to use <a href="/reference/setup/runtime-attach" hx-select-oob="#content-container,#toc-nav" preload="mousedown">runtime attachment</a>. Some <a href="/reference/setup/runtime-attach#limitations" hx-select-oob="#content-container,#toc-nav" preload="mousedown">limitations</a>
apply, and the agent must be started early during application startup.</p>
<div class="heading-wrapper" id="micrometer-turned-off-by-default"><h3><a class="headerlink" href="#micrometer-turned-off-by-default">Micrometer turned off by default</a></h3>
</div>
<p>By default, Micrometer instrumentation is inactive and doesn't capture metrics. To turn it on, use the <code>otel.instrumentation.micrometer.enabled=true</code> setting.</p>
<div class="heading-wrapper" id="troubleshooting"><h2><a class="headerlink" href="#troubleshooting">Troubleshooting</a></h2>
</div>
<p>If you're encountering issues during migration, refer to the <a href="https://docs-v3-preview.elastic.dev/elastic/docs-content/tree/main/troubleshoot/ingest/opentelemetry/edot-sdks/java" hx-select-oob="#main-container" preload="mousedown">EDOT Java troubleshooting guide</a>.</p>

</section>

						</article>
						<footer id="prev-next-nav" class="content-container mt-20 px-4">
	<div class="flex flex-wrap lg:flex-nowrap gap-2 mt-2">
		<div class="w-full">
				<a 
					href="/reference/supported-technologies"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="flex h-full items-center text-ink-light hover:black border-1 border-grey-20 hover:border-grey-80 rounded-lg p-6 shadow-md"
				>
					<svg class="size-6 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5"/>
					</svg>
					<div>
						<div class="text-xs lg:text-sm">Previous</div>
						<div class="text-base lg:text-xl text-black">Supported Technologies</div>
					</div>
				</a>
		</div>
		<div class="w-full">
				<a 
					href="/reference/overhead"
					 hx-select-oob=#content-container,#toc-nav preload=mousedown
					class="flex h-full items-center justify-end text-ink-light hover:black border-1 border-grey-20 hover:border-grey-80 rounded-lg p-6 shadow-md text-right"
				>
					<div>
						<div class="text-xs lg:text-sm">Next</div>
						<div class="text-base lg:text-xl text-black">Performance overhead</div>
					</div>
					<svg class="size-6 ml-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
						<path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5"/>
					</svg>
				</a>
		</div>
	</div>
</footer>

					</main>
					<div class="spacer"></div>
				</div>
			</div>
		</div>

</div>

<footer class="py-12 px-6 w-full mx-auto bg-ink-dark">
	<div class="max-w-(--max-layout-width) w-full mx-auto">
	<div class="text-grey-20 text-[12px]">
		<a href="https://www.elastic.co/">
			<img class="block" loading="lazy" alt="Elastic logo" src="/_static/logo-elastic-horizontal-white.svg?v=19bc4040eda89518" width="120" height="41"/>
		</a>
	</div>
	<div class="text-grey-20 text-[12px] bg-ink-dark grid grid-cols-1 md:grid-cols-2 gap-2 items-center">
		<div>
			<ul class="mt-4 flex gap-3">
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/legal/trademarks">Trademarks</a>
				</li>
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/legal/terms-of-use">Terms of Use</a>
				</li>
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/legal/privacy-statement">Privacy</a>
				</li>
				<li>
					<a class="underline hover:text-white" href="https://www.elastic.co/sitemap">Sitemap</a>
				</li>
			</ul>
			<p class="mt-4">
				© 2025 Elasticsearch B.V. All Rights Reserved.
			</p>
		</div>
		<div class="mt-4">
			<p>
				This content is available in different formats for convenience only. All original licensing terms apply.
			</p>
			<p class="mt-4">
				Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries. Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the Apache Software Foundation in the United States and/or other countries. 
			</p>
		</div>
	</div>
	</div>
</footer>


</body>
</html>
